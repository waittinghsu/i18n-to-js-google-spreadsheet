#!/usr/bin/env node
const configPath = process.argv[2];
const loadPath = !!configPath ? configPath.split('=')[1] : process.cwd();

const path = require('path');
const option = require(path.resolve(loadPath, 'i18n-to-js.config.js'));
const { coreForGoogle, coreForLocal } = require('../src/lib/index');

console.log('ğŸ¢ ğŸ¢ google excel æ“·å–ä¸­ ğŸ¢ğŸ¢ğŸ¢ ğŸ§—...');
const { mode = 'LOCAL' } = option;

switch (mode) {
  case 'LOCAL':
    coreForLocal(option);
    break;
  case 'GOOGLE_SHEET':
    coreForGoogle(option).then(() => {
      console.log('ğŸ‰ ç”Ÿæˆå®Œæˆ ğŸ‰');
    }).catch((err) => {
      console.error(`ğŸ‘¹ åª½é€¼ç‚¸äº†â€${err}`);
    });
    break;
  default:
    break;
}
